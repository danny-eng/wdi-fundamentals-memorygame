

var cards = [
{
	rank: "01",
	suit: "clubs",
	cardImage: "images/c01.bmp",
  flipped: false,
},
{
  rank: "02",
  suit: "clubs",
  cardImage: "images/c02.bmp",
  flipped: false,
},
{
  rank: "03",
  suit: "clubs",
  cardImage: "images/c03.bmp",
  flipped: false,
},
{
  rank: "04",
  suit: "clubs",
  cardImage: "images/c04.bmp",
  flipped: false,
},
{
  rank: "05",
  suit: "clubs",
  cardImage: "images/c05.bmp",
  flipped: false,
},
{
  rank: "06",
  suit: "clubs",
  cardImage: "images/c06.bmp",
  flipped: false,
},
{
  rank: "07",
  suit: "clubs",
  cardImage: "images/c07.bmp",
  flipped: false,
},
{
  rank: "08",
  suit: "clubs",
  cardImage: "images/c08.bmp",
  flipped: false,
},
{
  rank: "09",
  suit: "clubs",
  cardImage: "images/c09.bmp",
  flipped: false,
},
{
  rank: "10",
  suit: "clubs",
  cardImage: "images/c10.bmp",
  flipped: false,
},
{
  rank: "jack",
  suit: "clubs",
  cardImage: "images/c11.bmp",
  flipped: false,
},
{
  rank: "queen",
  suit: "clubs",
  cardImage: "images/c12.bmp",
  flipped: false,
},
{
  rank: "king",
  suit: "clubs",
  cardImage: "images/c13.bmp",
  flipped: false,
},
{
  rank: "01",
  suit: "diamonds",
  cardImage: "images/d01.bmp",
  flipped: false,
},
{
  rank: "02",
  suit: "diamonds",
  cardImage: "images/d02.bmp",
  flipped: false,
},
{
  rank: "03",
  suit: "diamonds",
  cardImage: "images/d03.bmp",
  flipped: false,
},
{
  rank: "04",
  suit: "diamonds",
  cardImage: "images/d04.bmp",
  flipped: false,
},
{
  rank: "05",
  ssuit: "diamonds",
  cardImage: "images/d05.bmp",
  flipped: false,
},
{
  rank: "06",
  suit: "diamonds",
  cardImage: "images/d06.bmp",
  flipped: false,
},
{
  rank: "07",
  suit: "diamonds",
  cardImage: "images/d07.bmp",
  flipped: false,
},
{
  rank: "08",
  suit: "diamonds",
  cardImage: "images/d08.bmp",
  flipped: false,
},
{
  rank: "09",
  suit: "diamonds",
  cardImage: "images/d09.bmp",
  flipped: false,
},
{
  rank: "10",
  suit: "diamonds",
  cardImage: "images/d10.bmp",
  flipped: false,
},
{
  rank: "jack",
  suit: "diamonds",
  cardImage: "images/d11.bmp",
  flipped: false,
},
{
  rank: "queen",
  suit: "diamonds",
  cardImage: "images/d12.bmp",
  flipped: false,
},
{
  rank: "king",
  suit: "diamonds",
  cardImage: "images/d13.bmp",
  flipped: false,
},
{
  rank: "01",
  suit: "hearts",
  cardImage: "images/h01.bmp",
  flipped: false,
},
{
  rank: "02",
  suit: "hearts",
  cardImage: "images/h02.bmp",
  flipped: false,
},
{
  rank: "03",
  suit: "hearts",
  cardImage: "images/h03.bmp",
  flipped: false,
},
{
  rank: "04",
  suit: "hearts",
  cardImage: "images/h04.bmp",
  flipped: false,
},
{
  rank: "05",
  suit: "hearts",
  cardImage: "images/h05.bmp",
  flipped: false,
},
{
  rank: "06",
  suit: "hearts",
  cardImage: "images/h06.bmp",
  flipped: false,
},
{
  rank: "07",
  suit: "hearts",
  cardImage: "images/h07.bmp",
  flipped: false,
},
{
  rank: "08",
  suit: "hearts",
  cardImage: "images/h08.bmp",
  flipped: false,
},
{
  rank: "09",
  suit: "hearts",
  cardImage: "images/h09.bmp",
  flipped: false,
},
{
  rank: "10",
  suit: "hearts",
  cardImage: "images/h10.bmp",
  flipped: false,
},
{
  rank: "jack",
  suit: "hearts",
  cardImage: "images/h11.bmp",
  flipped: false,
},
{
  rank: "queen",
  suit: "hearts",
  cardImage: "images/h12.bmp",
  flipped: false,
},
{
  rank: "king",
  suit: "hearts",
  cardImage: "images/h13.bmp",
  flipped: false,
},
{
  rank: "01",
  suit: "spades",
  cardImage: "images/s01.bmp",
  flipped: false,
},
{
  rank: "02",
  suit: "spades",
  cardImage: "images/s02.bmp",
  flipped: false,
},
{
  rank: "03",
  suit: "spades",
  cardImage: "images/s03.bmp",
  flipped: false,
},
{
  rank: "04",
  suit: "spades",
  cardImage: "images/s04.bmp",
  flipped: false,
},
{
  rank: "05",
  ssuit: "spades",
  cardImage: "images/s05.bmp",
  flipped: false,
},
{
  rank: "06",
  suit: "spades",
  cardImage: "images/s06.bmp",
  flipped: false,
},
{
  rank: "07",
  suit: "spades",
  cardImage: "images/s07.bmp",
  flipped: false,
},
{
  rank: "08",
  suit: "spades",
  cardImage: "images/s08.bmp",
  flipped: false,
},
{
  rank: "09",
  suit: "spades",
  cardImage: "images/s09.bmp",
  flipped: false,
},
{
  rank: "10",
  suit: "spades",
  cardImage: "images/s10.bmp",
  flipped: false,
},
{
  rank: "jack",
  suit: "spades",
  cardImage: "images/s11.bmp",
  flipped: false,
},
{
  rank: "queen",
  suit: "spades",
  cardImage: "images/s12.bmp",
  flipped: false,
},
{
  rank: "king",
  suit: "spades",
  cardImage: "images/s13.bmp",
  flipped: false,
},
];
var cardsInPlay = [];
var score = 0;

// Create score button.
document.getElementById("score-tracker").innerHTML = `Score: ${score}`;

// Make board -> flip -> check -> update score -> repeat
var resetBoard = function (){
  for (i = 0; i < cards.length; i++){
        cards[i].flipped = false;
      };
  for (i = 0; i < cards.length; i++){
      var deleteList = document.getElementById("game-board");
      deleteList.removeChild(deleteList.childNodes[0]);
  };
  createBoard();
  resetButton();
};

var resetButton = function (){
  var buttonHere = document.getElementById("reset");
  buttonHere.addEventListener("click", resetBoard);
  cardsInPlay = [];
};

var updateScore = function (){
  score++;
  document.getElementById("score-tracker").innerHTML = `Score: ${score}`;
};

//when two cards are flipped, update score and call for reset.
var checkForMatch = function (){
	if (cardsInPlay.length === 2){
		if (cardsInPlay[0] === cardsInPlay[1]){
      updateScore();
		};
	};
};

// when a card is selected, its art flips.
var flipCard = function (){
	var cardId = this.getAttribute('data-id');
  if (cards[cardId].flipped == false){
    cards[cardId].flipped = true;
    cardsInPlay.push(cards[cardId].rank);
    this.setAttribute("src", cards[cardId].cardImage); // retrieve image using data-id.
    checkForMatch();
  } else {
    return;
  };
};

// populate game-board with card backs.
var createBoard = function (){
	for (i = 0; i < cards.length; i++) {
		var cardElement = document.createElement("img");
		cardElement.setAttribute("src", "images/back.bmp");
		cardElement.setAttribute("data-id", i);
		cardElement.addEventListener("click", flipCard);
		document.getElementById("game-board").appendChild(cardElement);
	}
};

createBoard();
resetButton();
